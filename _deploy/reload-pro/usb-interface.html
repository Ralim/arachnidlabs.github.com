<!DOCTYPE html>
<html>	
	<head>

		<meta name="description" content="Makers of fine electronics since 2013.">
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
		
		<title></title>

		<link rel="stylesheet" type="text/css" href="/css/style.css">
		<link rel="stylesheet" type="text/css" href="/css/normalize.css">
		<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
		<link rel="stylesheet" type="text/css" href="/css/animate.css">
		<link rel="alternate" type="application/rss+xml" title="Arachnid Labs" href="http://www.arachnidlabs.com/atom.xml" />
	
		<link rel="icon" type="image/png" href="/favicon.png">

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
		<script type="text/javascript" src="/js/jquery.sticky.js"></script>
		<script type="text/javascript" src="/js/masonry.pkgd.min.js"></script>
		<script type="text/javascript" src="/js/wow.min.js"></script>

		<script>
  			$(document).ready(function(){
    			$("#nav").sticky({topSpacing:0});
  			});
		</script>

		<script type="text/javascript">
			var wow = new WOW(
			  {
			    boxClass:     'wow',      // animated element css class (default is wow)
			    animateClass: 'animated', // animation css class (default is animated)
			    offset:       0,          // distance to the element when triggering the animation (default is 0)
			    mobile:       true,       // trigger animations on mobile devices (default is true)
			    live:         true        // act on asynchronously loaded content (default is true)
			  }
			);
			wow.init();
		</script>

		<!-- If the browser version of IE is less than 9 load HTML5 & CSS3 polyfills -->
        <!--[if lt IE 9]>
            <link rel="stylesheet" href="css/ie.css">
            <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script>
            <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/selectivizr/1.0.2/selectivizr-min.js"></script>
        <![endif]-->

	</head>
	<body>

		<div class="intro">
			
			<div class="center">
				<img src="/images/arachnidlabs.svg">

				<ul class="social">
					<li><a href="https://github.com/arachnidlabs"><i class="fa fa-github"></i></a></li>
					<li><a href="https://twitter.com/arachnidlabs"><i class="fa fa-twitter"></i></a></li>
<!--					<li><a href=""><i class="fa fa-youtube-play"></i></a></li>-->
					<li><a href="https://plus.google.com/+Arachnidlabs/"><i class="fa fa-google-plus"></i></a></li>
				</ul>

			</div>

		</div>

		<div id="nav" class="clearfix">
			
			<div class="wrapper">
				
				<div class="logo">
					
					<h1></h1>

				</div>

				<nav>
					
					<ul class="clearfix">
						<li><a href="/index.html">Home</a></li>
						<li><a href="https://www.tindie.com/stores/arachnidlabs/">Shop</a></li>
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
								<li><a href="/about/index.html">About</a></li>
							
						
							
							
							
								<li><a href="/labs-cards/index.html">Circuit pattern trading cards</a></li>
							
						
							
							
							
								<li><a href="/reload-2/index.html">Re:load 2</a></li>
							
						
							
							
							
								<li><a href="/reload-pro/index.html">Re:load Pro</a></li>
							
						
							
							
							
						
							
							
							
						
							
							
							
								<li><a href="/minishift/index.html">Minishift</a></li>
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
							
							
							
						
					</ul>

				</nav>
				
			</div>

		</div>

		<div class="container">
			



<div class="page-side clearfix">
	<div class="main">
		<h1>USB Interface Protocol</h1>
		<p>The Re:load Pro features a USB interface with serial port emulation (CDC), which
supports a straightforward text-based protocol for controlling and monitoring
the Re:load Pro and the attached test device. The Re:load Pro’s serial interface
operates at 115200 baud 8/n/1.</p>

<p>Both commands and responses are line-based. Responses from the Re:load Pro are
terminated with “\r\n”, and commands to the Re:load Pro need only be terminated
with “\n” (“\r” will be silently ignored).</p>

<p>All commands generate at least one response line from the Re:load Pro. Some
commands may generate multiple responses, and some conditions, such as interval
monitoring, overtemperature and undervoltage may trigger unsolicited response
lines from the Re:load Pro. Programs implementing the protocol should expect
that they may receive such responses at any time, and code accordingly.</p>

<p>Commands and arguments are case-sensitive.</p>

<h1 id="command-reference">Command reference</h1>

<h2 id="bl">bl</h2>
<p>Enters bootloader/firmware upgrade mode. Emits an ‘ok’ response, then enters
bootloader mode. Any further serial communication will be received by the
bootloader.</p>

<h2 id="set-i">set [I]</h2>
<p>Sets the current setpoint to I, expressed in milliamps. Responds with a ‘set’
response with the new current setpoint. This may differ from the provided
setpoint if the provided setpoint was less than 0 or greater than the maximum
supported current.</p>

<p>If I is not provided, reports the current setpoint without altering it.</p>

<h2 id="mode-mode">mode MODE</h2>
<p>Sets operating mode. Currently only ‘cc’ for constant current mode is supported.
Responds with a ‘mode’ response with the new operating mode.</p>

<h2 id="read">read</h2>
<p>Returns a ‘read’ response with the voltage and current across the Re:load Pro.</p>

<h2 id="reset">reset</h2>
<p>When the Re:load Pro has disabled itself due to overtemperature or undervoltage,
the ‘reset’ command sets the current setpoint to 0 and returns to normal operation.
Returns an ‘ok’ response.</p>

<h2 id="monitor-interval">monitor INTERVAL</h2>
<p>Enables monitoring with an interval of INTERVAL milliseconds. Every x milliseconds, a
‘read’ response will be returned until ‘monitor 0’ is sent to cease monitoring.
The first response will occur after INTERVAL milliseconds, rather than immediately.</p>

<h2 id="debug">debug</h2>
<p>Outputs a series of debugging information lines as ‘info’ messages.</p>

<h2 id="cal-subcommand-arg">cal SUBCOMMAND [arg]</h2>
<p>Calibration master command. Supports several subcommands:</p>

<h3 id="cal-o">cal o</h3>
<p>Calibrates ADC offsets. Sets ADC offset to the currently observed voltage and
current, and returns ‘ok’. Only run with no leads attached to the Re:Load Pro.</p>

<h3 id="cal-v-voltage">cal v VOLTAGE</h3>
<p>Calibrates the ADC’s voltage gain. VOLTAGE should be the voltage across the
Re:load Pro. Responds with ‘ok’.</p>

<h3 id="cal-i-current">cal i CURRENT</h3>
<p>Calibrates the ADC’s current gain. CURRENT should be the current across the
Re:load Pro. Responds with ‘ok’.</p>

<h3 id="cal-d-current">cal d CURRENT</h3>
<p>Performs automatic DAC opamp offset trim, offset, and gain calibration based
on the calibrated output of the ADC. Responds with ‘ok’. CURRENT is the maximum
test current level to use in calibration.</p>

<p>From v1.6: No longer performs opamp offset trim calibration; this is now done
with ‘cal t’ or manually with ‘cal O’</p>

<h3 id="cal-o-offset">cal O [OFFSET]</h3>
<p>Without an argument, returns the current opamp offset trim value, between 0 and
63 with a ‘cal O’ response. With an argument, sets the opamp offset trim.</p>

<h3 id="cal-t-current">cal t CURRENT</h3>
<p>Performs automatic opamp offset trim calibration. Responds with ‘ok’. CURRENT
is the maximum test current level to use in calibration.</p>

<h2 id="version">version</h2>
<p>From v1.6: Returns the current firmware version number in a ‘version’ response.</p>

<h1 id="response-reference">Response reference</h1>

<h2 id="read-current-voltage">read CURRENT VOLTAGE</h2>
<p>Returns the current and voltage across the Re:load Pro, in millivolts.</p>

<h2 id="err-message">err MESSAGE</h2>
<p>Sent when an invalid command was sent. MESSAGE is a human-readable message
describing the problem.</p>

<h2 id="mode-mode-1">mode MODE</h2>
<p>Returns the current operating mode. Currently this will always be ‘cc’.</p>

<h2 id="set-i-1">set I</h2>
<p>Returns the current setpoint.</p>

<h2 id="ok">ok</h2>
<p>Indicates your command was received and acted on successfully.</p>

<h2 id="info">info</h2>
<p>Provides a human-readable information message about the Re:load Pro. Currently
only used in response to the ‘debug’ command.</p>

<h2 id="cal-o-offset-1">cal O OFFSET</h2>
<p>Returns the opamp offset trim value for the Re:load Pro’s internal opamp in
response to a ‘cal O’ command.</p>

<h2 id="overtemp">overtemp</h2>
<p>Sent unsolicited when the FET in the Re:load Pro goes into overtemperature
shutdown. Issue a ‘reset’ command to set the current setpoint to 0 and resume
normal operation.</p>

<h2 id="undervolt">undervolt</h2>
<p>Sent unsolicited when the Re:load Pro detects an undervoltage condition. Issue a
‘reset’ command to set the current setpoint to 0 and resume normal operation.</p>

<h2 id="version-1">version</h2>
<p>Returned in response to a ‘version’ command. Reports the current firmware version
in dotted-decimal format.</p>

	</div>
	<div class="sidebar">
	<div class="side-sect">
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
				<h1><a href="/reload-pro/index.html">Re:load Pro</a></h1>
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
		<ul>
			
				
			
				
			
				
					
						<li><a href="/reload-pro/buy.html">Buying the Re:load Pro</a></li>
					
				
			
				
					
						<li><a href="/reload-pro/fan-kit-assembly.html">Fan Kit Assembly Instructions</a></li>
					
				
			
				
					
						<li><a href="/reload-pro/fan-kit.html">Re:load Pro fan kit</a></li>
					
				
			
				
					
						<li><a href="/reload-pro/firmware.html">Firmware updates</a></li>
					
				
			
				
			
				
			
				
			
				
			
				
			
				
					
					
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
					
						<li><a href="/reload-pro/usb-interface.html">USB Interface Protocol</a></li>
					
				
			
				
			
				
			
				
			
				
			
				
			
				
			
		</ul>
	</div>
</div>
</div>


		</div>

		<footer class="clearfix">
			<p>2014 &copy Arachnid Labs | Theme designed by <a href="http://www.themeforest.net/user/uziiuzair">Uzair Hayat</a></p>

			<ul class="social">
				<li><a href="https://github.com/arachnidlabs"><i class="fa fa-github"></i></a></li>
				<li><a href="https://twitter.com/arachnidlabs"><i class="fa fa-twitter"></i></a></li>
				<!--<li><a href=""><i class="fa fa-youtube-play"></i></a></li>-->
				<li><a href="https://plus.google.com/+Arachnidlabs/"><i class="fa fa-google-plus"></i></a></li>
			</ul>

		</footer>

		<script type="text/javascript">

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-84449-7']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>

	</body>
</html>